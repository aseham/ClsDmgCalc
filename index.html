<!DOCTYPE html>
<html>
<head>
  <title>Closers Damage Calculation</title>
  <link rel="stylesheet" href="index.css">
</head>

<body>
  <p class="title_text">
    Please note: This damage calculations formula is a rough calculation<br>
    and is not directly taken from the game script.<br>
    Use final calculation result only for estimation purpose.
  </p>
  <p class="spoiler">
    But of course, it's more accurate than your DPS output in your character info.
  </p>
    
  <p class="title_text">  
    If there are bugs or errors, please send a detailed report to me here.<br>
  </p>
  
  <p> <!--calculations part-->
    <div class="div_front">
      <table  align=center>
        <tr>
          <td class="datas" valign=top>
            Base Damage
          </td>
          <td class="datas" valign=top>
            <input type=text name=dmg></input>
          </td>
          <td></td>
          <td align=center valign=center colspan=6>
            Situationals
          </td>
        </tr>
        <tr>
          <td class="datas" valign=top>
            Ignore Def
          </td>
          <td class="datas" valign=top>
            <input type=text name=ignore_def></input>
          </td>
          <td></td>
          <td align=center valign=center colspan=2>
            <input type=checkbox name=_aerial>Aerial</input>
          </td>
          <td align=center valign=center colspan=2>
            <input type=checkbox name=_back>Back</input>
          </td>
          <td align=center valign=center colspan=2>
            <input type=checkbox name=_chase>Chase</input>
          </td>
        </tr>
        <tr>
          <td class="datas" valign=top>
            Damage Bonus (%)
          </td>
          <td class="datas" valign=top>
            <input type=text name=dmg_bonus></input>
          </td>
          <td></td>
          <td class="datas" valign=top>
            Aerial Damage Bonus (%)
          </td>
          <td class="datas" valign=top>
            <input type=text name=a_dmg_bonus></input>
          </td>
          <td class="datas" valign=top>
            Back Damage Bonus (%)
          </td>
          <td class="datas" valign=top>
            <input type=text name=b_dmg_bonus></input>
          </td>
          <td class="datas" valign=top>
            Chase Damage Bonus (%)
          </td>
          <td class="datas" valign=top>
            <input type=text name=c_dmg_bonus></input>
          </td>
        </tr>
        
        <tr>
          <td class="datas" valign=top>
            Critical Rate (%)
          </td>
          <td class="datas" valign=top>
            <input type=text name=crate></input>
          </td>
          <td></td>
          <td class="datas" valign=top>
            Aerial Critical Rate (%)
          </td>
          <td class="datas" valign=top>
            <input type=text name=a_crate></input>
          </td>
          <td class="datas" valign=top>
            Back Critical Rate (%)
          </td>
          <td class="datas" valign=top>
            <input type=text name=b_crate></input>
          </td>
          <td class="datas" valign=top>
            Chase Critical Rate (%)
          </td>
          <td class="datas" valign=top>
            <input type=text name=c_crate></input>
          </td>
        </tr>
        
        <tr>
          <td class="datas" valign=top>
            Critical Damage (%)
          </td>
          <td class="datas" valign=top>
            <input type=text name=cdmg></input>
          </td>
          <td></td>
          <td class="datas" valign=top>
            Aerial Critical Damage (%)
          </td>
          <td class="datas" valign=top>
            <input type=text name=a_cdmg></input>
          </td>
          <td class="datas" valign=top>
            Back Critical Damage (%)
          </td>
          <td class="datas" valign=top>
            <input type=text name=b_cdmg></input>
          </td>
          <td class="datas" valign=top>
            Chase Critical Damage (%)
          </td>
          <td class="datas" valign=top>
            <input type=text name=c_cdmg></input>
          </td>
        </tr>
        
        <tr>
          <td class="datas" valign=top>
            Def Penetration (%)
          </td>
          <td class="datas" valign=top>
            <input type=text name=penet></input>
          </td>
          <td></td>
          <td class="datas" valign=top>
            Aerial Def Penetration (%)
          </td>
          <td class="datas" valign=top>
            <input type=text name=a_penet></input>
          </td>
          <td class="datas" valign=top>
            Back Def Penetration (%)
          </td>
          <td class="datas" valign=top>
            <input type=text name=b_penet></input>
          </td>
          <td class="datas" valign=top>
            Chase Def Penetration (%)
          </td>
          <td class="datas" valign=top>
            <input type=text name=c_penet></input>
          </td>
        </tr>
      </table>
      <hr>
      <table  align=center>
        <tr>
          <td class="datas" valign=top colspan=3>
            Total Damage Output per 100 hit, excluding Penetrations:
          </td>
          <td class="results" id="dmg_out" valign=top colspan=6>
            0
          </td>
        </tr>
        <tr>
          <td class="datas" valign=top>
            Final Score:
          </td>
          <td class="results" id="score" valign=top colspan=8>
            0
          </td>
        </tr>
        <tr>
          <td class="datas" valign=top>
            Final Rating:
          </td>
          <td class="results" id="rating" valign=top colspan=4>
            F-
          </td>
          <td class="datas" valign=top colspan=4>
            Base rating:
            <select name="rate_base">
              <option value="KR">KR (under development)</option>
              <option value="JP">JP</option>
              <option value="ID">ID</option>
              <option value="CN">CN (under development)</option>
              <option value="PS">PS</option>
            </select>
          </td>
          
        </tr>
        
      </table>
      
    </div>
  </p>
  
</body>

<script type="text/javascript">
  var base_dmg = document.getElementByName("dmg").innerHTML;
  
  function dmgOut100Hit(){
    
  }

	function start() {
		n_clix = 1;
		aps = 0;
		apples = 0;
		total_apples = 0;
		apple_tree = 0;  apple_tree_cost = 100;
		magic_seed = 0;  magic_seed_cost = 1000;
		printApple();
		printAsset();
		var myVar = setInterval(addPerSecond, 1000);
	}
	
	function addByClick() {
		apples += n_clix;
		total_apples += n_clix;
		printApple();
		printAsset();
	}
	
	function addPerSecond() {
		apples += aps;
		total_apples += aps;
		printApple();
		printAsset();
	}
	
	function printApple() {
		document.getElementById("cauntaah").innerHTML = "Apples : " + Math.floor(apples) + 
		"<br>Auto-apples : " + aps + " apples/seconds" +
		"<br>Apples per click : " + n_clix + " apples";
	}
	
	function printAsset() {
	if (total_apples >= 100)
		document.getElementById("apple_tree").innerHTML = "<a href=\"#\" onClick=\"buyAppleTree(); return false;\">Buy apple tree</a>"+
		"<br>Cost : "+apple_tree_cost+
		"<br>Apple trees owned : "+apple_tree+"<br>";
	if (total_apples >= 2500)
		document.getElementById("magic_seed").innerHTML = "<a href=\"#\" onClick=\"buyMagicSeed(); return false;\">Buy magic seed</a>"+
		"<br>Cost : "+magic_seed_cost+
		"<br>Magic seeds owned : "+magic_seed+"<br>";
	}
	
	function buyAppleTree() {
		if (apples >= apple_tree_cost) {
			apples -= apple_tree_cost;
			apple_tree_cost *= 105/100;
			apple_tree_cost = Math.ceil(apple_tree_cost);
			apple_tree++;
			aps += 1;
		}
		printApple();
		printAsset();
	}
	
	function buyMagicSeed() {
		if (apples >= magic_seed_cost) {
			apples -= magic_seed_cost;
			magic_seed_cost *= 105/100;
			magic_seed_cost = Math.ceil(magic_seed_cost);
			magic_seed++;
			n_clix += 2;
		}
		printApple();
		printAsset();
	}
	</script>

</html>